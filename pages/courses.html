<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- SITE META -->
    <title>Information Technology Institute</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <!-- FAVICONS -->
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <!-- BOOTSTRAP STYLES -->
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
    <!-- TEMPLATE STYLES -->
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <!-- CUSTOM STYLES -->
    <link rel="stylesheet" type="text/css" href="../css/custom.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36021144-1', 'auto');
      ga('send', 'pageview');

    </script>

</head>
<body>

    <!-- START SITE -->
    <div id="wrapper">
    <div class="topbar">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-12 text-left">
                        <div class="topmenu">
                            <span class="hidden-xs"><i class="fa fa-envelope-o"></i> <a href="mailto:wdce@montgomerycollege.edu">wdce@montgomerycollege.edu</a></span>
                            <span><i class="fa fa-phone-square"></i> 240-567-5188</span>
                        </div><!-- end callus -->
                    </div>

                    <div class="col-md-6 col-sm-12 text-right">
                        <div class="social-icons">
                            <ul class="list-inline">
                            <li class="facebook"><a data-toggle="tooltip" data-placement="bottom" title="Facebook" href="https://www.facebook.com/informationtechnologyinstitutemc/?fref=ts"><i class="fa fa-facebook"></i></a></li>
                            <li class="twitter"><a data-toggle="tooltip" data-placement="bottom" title="Twitter" href="https://twitter.com/iti_mc" target="_blank"><i class="fa fa-twitter"></i></a></li>
                            </ul>
                        </div><!-- end social icons -->
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end topbar -->
        </div><!-- end topbar -->
   <header class="header">
            <div class="container">
                <nav class="navbar navbar-default yamm">
                    <div class="container-f">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </div>

                        <div id="navbar" class="navbar-collapse collapse">
                            <ul class="nav navbar-nav">
                                <li class="cartmenu"><a href="../index.html"><i class="fa fa-home"></i></a></li>
                                <li class="dropdown hasmenu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">On Campus<span class="fa fa-angle-down"></span></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="../pages/courses.html">Our Courses</a></li>
                                        <li><a href="../pages/programs.html">Our Programs</a></li>
                                        
                                    </ul>
                                </li>
                                <li><a href="../pages/online.html" >Online</a></li>   
                            </ul>

                            <ul class="nav navbar-nav navbar-right">
                                <li><a href="../pages/info/contract-training.html">Contract Training</a></li>
                                <li><a href="../pages/info/become-an-instructor.html">Become an Instructor</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div><!--/.container-fluid -->
                </nav><!-- end nav -->
            </div><!-- end container -->
        </header><!-- end header -->


              <section class="section paralbackground banner" style="background-image:url('../images/stock/courses.jpg');" data-img-width="2400" data-img-height="907" data-diff="100">
            <div class="overlay" >
                <div class="page-title">
                    <div class="container clearfix">
                        <div class="title-area pull-left" >
                            <h2 class="white">Courses <small class="white">Full course listing</small></h2>
                        </div><!-- /.pull-right -->
                    </div>
                </div><!-- end page-title -->
            </div>
        </section><!-- end section -->
        
        <script type="text/template" id="courseTemplate">
            <% _.each(courses, function(course) { %>
                <li><a href='course.html?id=<%= course.id %>'><%= course.title %></a><br><small><%= course.id %>Â </small></li>
            <% }); %>
        </script>


        <!--searchable course list section -->
       <section class="section bgg">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-sm-12 col-md-offset-1">
                        <div class="custom-form clearfix">
                            <div class="big-title">
                                <h2 class="related-title large" >
                                    <span>Course list</span><!--section title -->
                                </h2>
                                <h4 id=subtitle></h4>
                            </div><!-- end big-title -->
                            <div class="loginform" id="course-list">
                                <form class="row"  role="search" method="get" action="../pages/courses.html" >
                                    <div class="col-md-12">
                                    <div >
                                    <input type="text" class="live-search-box form-control" placeholder="Type here to search for a course..." name="search" id="input-box"/><!-- search box -->
                                    <ul id="courses"><!--course list -->
                                       <p>No courses available</p>
                                    </ul><!-- end course list -->
                                  </div>    
                                </form> 
                            </div>
                        </div>
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end container -->
        </section><!-- end section -->

        <footer class="footer">
            <div class="container">
                <div class="row">

                    <div class="col-md-3 col-md-6 col-xs-12">
                            <ul class="contact-details">
                                <li><i class="fa fa-link"></i> <a href="#">montgomerycollege.edu/iti/</a></li>
                            </ul>
                    </div><!-- end col -->
                    <div class="col-md-3 col-md-6 col-xs-12">
                            <ul class="contact-details">
                                <li><i class="fa fa-envelope-o"></i> <a href="mailto:wdce@montgomerycollege.edu">wdce@montgomerycollege.edu</a></li>
                            </ul>
                    </div><!-- end col -->
                    <div class="col-md-2 col-md-6 col-xs-12">
                            <ul class="contact-details">
                                <li><i class="fa fa-phone"></i>  240-567-5188</li>
                            </ul>
                    </div><!-- end col -->
                    <div class="col-md-4 col-md-6 col-xs-12">
                            <ul class="contact-details">
                                <li><i class="fa fa-home"></i> Montgomery College WD & CE <br> 
                                    <i class="fa fa-home" style="visibility: hidden;"></i> 12 S Summit Ave, Gaithersburg, MD 20877</li>
                            </ul>
                    </div><!-- end col -->
                    
                    
                </div><!-- end row -->
            </div><!-- end container -->
        </footer><!-- end footer -->

        <div class="topbar copyrights">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-12 text-left hidden-xs">
                        <div class="topmenu">
                             <span><i class="fa fa-home"></i> <a href="../index.html">Home</a></span>
                            <span><a href="../pages/info/contact.html">Contact us</a></span>
                            <span><a href="../pages/info/disclaimer.html">Disclaimer</a></span>
                            <span><a href="../pages/info/privacy-statement.html">Privacy Statement</a></span>
                            <span>&copy; 2016 Montgomery College</span>
                        </div><!-- end callus -->
                    </div>

                    <div class="col-md-6 col-sm-12 text-right">
                        <div class="social-icons">
                            <ul class="list-inline">
                            <li class="facebook"><a data-toggle="tooltip" data-placement="top" title="Facebook" href="https://www.facebook.com/informationtechnologyinstitutemc/?fref=ts" target="_blank"><i class="fa fa-facebook"></i></a></li>
                            <li class="twitter"><a data-toggle="tooltip" data-placement="top" title="Twitter" href="https://twitter.com/iti_mc" target="_blank"><i class="fa fa-twitter"></i></a></li>
                            <li style="visibility:hidden" class="twitter"><a href="#"><i class="fa fa-twitter"></i></a></li>
                            </ul>
                        </div><!-- end social icons -->
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end topbar -->
        </div><!-- end topbar -->
    </div><!-- end wrapper -->

    <div class="dmtop">Scroll to Top</div>
    <!-- END SITE -->

    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.js"></script>
    <script src="../js/plugins.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.2.0/list.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js" type="text/javascript"></script>
    <!--jquery function that makes the list searchable -->
    <!--be sure to add class="live-search-box" to the search box -->
    <!--be sure to add class="live-search-list" to the ul -->
        
    <script type="text/javascript">
        (function(){
            // Read a page's GET URL variables and return them as an associative array.
            function getUrlVars()
            {
                var vars = [], hash;
                var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                for(var i = 0; i < hashes.length; i++)
                {
                    hash = hashes[i].split('=');
                    vars.push(hash[0]);
                    vars[hash[0]] = hash[1];
                }
                return vars;
            }
            
            
            //console.log(getUrlVars()["search"]);
                      
            var myCourses = {
                Models : {},
                Collections : {},
                Views : {},
                Routers : {}
            };

            // Model
            myCourses.Models.Course = Backbone.Model.extend({
                default: {
                    id : null,
                    title : null,
                    subjcode : null,
                    description : null,
                    classhours : null,
                    prereq : null
                },

                initialize: function(){
                    console.log("Creation of the course " + this.get('title') + " with the subject code " + this.get('subjcode') + " with id " + this.get('id'));
                }
            });


            // Collection
            myCourses.Collections.Courses = Backbone.Collection.extend({
                model : myCourses.Models.Course,
                url : "../data/courses.json",
                initialize : function(){
                    console.log("New collection created");
                }
            });


            // Collection instance
            var coursesCollection = new myCourses.Collections.Courses();
            coursesCollection.fetch();


            // Collection view
            myCourses.Views.course = Backbone.View.extend({

                el: $("#courses"),

                initialize: function () {
                    this.template = _.template($("#courseTemplate").html());
                    this.listenTo(this.collection,"sync",this.onSync)
                },
                onSync:function () {
                    this.render();
                    //other logic
                },
                render: function (link) {
                    if (typeof this.collection !== "undefined") {
                            var theseCourses = this.collection;
                            this.$el.html(this.template({
                                courses: theseCourses.toJSON()
                            }));
                        
                        //getting search term from url
                        var term = getUrlVars()["search"];
                        
                        //checking if the user has searched for anything
                        if (term == null || term==""){
                            //do nothing if there is a search term
                        } else{
                            //put the search term in the search box
                            document.getElementById("input-box").setAttribute('value', term);
                            document.getElementById("subtitle").innerHTML = 'Searching for... "' + term + '"';
                        }
                        
                        
                        var count_visible = 0;
                        //filtering the list by the search term
                        $('#courses li').each(function(){
                            var content= this.innerText.toLowerCase();
                            if (content.indexOf(term)>-1 || (term.length< 1)){
                                  $(this).show();
                                    count_visible +=1;
                                } else {
                                  $(this).hide();
                                };
                        });
                        //check if no results are displayed
                        if (count_visible == 0){
                            document.getElementById("courses").innerHTML = 'None of our courses match those terms';
                        }
                    }
                    return this;
                }
            });

            // Collection view instance
            var coursesView = new myCourses.Views.course ({ collection : coursesCollection });

            coursesView.render();
            

        })();

    </script>
        
     <script>
       jQuery(document).ready(function($){
        $('#courses li').each(function(){
            $(this).attr('data-search-term', $(this).text().toLowerCase());
        });
        $('.live-search-box').on('keyup', function(){
        var searchTerm = $(this).val().toLowerCase();
        $('#courses li').each(function(){
        var content= this.innerText.toLowerCase();
            if (content.indexOf(searchTerm)>-1 || (searchTerm.length< 1)){
                  $(this).show();
                } else {
                  $(this).hide();
            }
        });
        });
        });
    </script>
</body>
</html>